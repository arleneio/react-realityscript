{"version":3,"sources":["../../src/index.js","App.js","index.js"],"names":["ARLENE_BASE","props","useState","values","setValues","useEffect","script","document","loadProjectData","projectId","cb","projectURL","fetch","data","App","ReactDOM","render","getElementById"],"mappings":"wLAEMA,EAAN,6C,MAiBA,SAAuBC,GAAO,MAEAC,mBAFA,IAErBC,EAFqB,KAEbC,EAFa,KAqB5B,OAjBAC,qBAAU,WACR,IAAMC,EAASC,uBAAf,UAWA,OAVAD,MAxBJ,uEAyBIA,WACAC,6BAEIN,EAAJ,WAzBWO,SAAgBC,EAAWC,G,IACxC,IAAMC,EAAgBX,EAAN,QAAhB,EAD4C,gBAEzBY,MAFyB,+EAIxCC,GAJwC,MAIhCA,SAJgC,uBAKvBA,EALuB,iCAM1C,GACEH,KAPwC,gDAa7C,S,0BAaKF,CAAgBP,EAAD,WAAkB,YAC/BG,QAIG,WACLG,gCAbJF,IAiBIJ,EAAJ,UACQ,4BAAP,GAEO,4BAAP,IClCYa,EAJH,WACR,OAAO,kBAAC,EAAD,CAASL,UAAU,U,OCA9BM,EAASC,OAAO,kBAAC,EAAD,MAAST,SAASU,eAAe,U","file":"static/js/main.e0a79a1b.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nconst REALITY_SCRIPT_URL = `https://cdn.jsdelivr.net/gh/arleneio/reality.js@0.2.2/reality.min.js`\nconst ARLENE_BASE = 'https://servercloud.arlene.io/reality-data';\n\nasync function loadProjectData(projectId, cb) {\n  const projectURL = `${ARLENE_BASE}?pid=${projectId}`\n  const data = await fetch(projectURL)\n\n  if (data && data.status===200) {\n    const json = await data.json();\n    if (cb) {\n      cb(json)\n    }\n    return json\n  }\n\n  return {}\n}\n\nfunction RealityScript(props) {\n  // Load reality attributes from an Arlene Project\n  const [values, setValues] = useState({});\n\n  useEffect(() => {\n    const script = document.createElement('script')\n    script.src = REALITY_SCRIPT_URL\n    script.async = true\n    document.body.appendChild(script)\n\n    if (props.projectId) {\n      loadProjectData(props.projectId, (v)=>{\n        setValues(v)\n      })\n    }\n\n    return () => {\n      document.body.removeChild(script)\n    }\n  }, [])\n\n  if (props.projectId) {\n  \treturn <reality {...values} />\n  } else {\n  \treturn <reality {...props} />\n  }\n}\n\nexport default RealityScript\n","import React from 'react'\n\nimport Reality from 'react-realityscript'\n\n\nconst App = () => {\n    return <Reality projectId=\"demo\" />\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}